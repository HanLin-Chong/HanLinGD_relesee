<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>上传资料</title>
        
        <link href="css/fileinput.min.css" media="all" rel="stylesheet" type="text/css" />
        
        <script src="js/fileinput.min.js" type="text/javascript"></script>
        <!--简体中文-->
        <script src="js/locales/zh.js" type="text/javascript"></script>
    </head>
    <body>
    <div>
		<input id="uploadfile" name="files" type="file" multiple>
	</div>	
	<div class="input-group" >
		<span class="input-group-addon" id="basic-addon3">
			优质客户标记：<input class="is_quality_users" type="checkbox" />

		</span>
		<span class="input-group-addon">
			添加备注区：
		</span>
		<textarea class="form-control upload_file_notes" name="descripiton" rows="2"></textarea>
		
	</div>
		
			
              
    </body>

	<script>//参考手册：https://blog.csdn.net/u012526194/article/details/69937741
    $('#uploadfile').fileinput({
    	
        language: 'zh',
        uploadUrl: 'upload/ajax/multifile',
        //这里应该让高级用户来决定能上传那些文件
        allowedFileExtensions : ['rar', 'zip','txt','jpg','gz'],//文件后缀名限制
        //uploadExtraData:{"id": 1, "fileName":'123.mp3'},//额外数据
        showUpload:true, //是否显示上传按钮
		dropZoneEnabled: false,//拖拽区域是否要
		browseOnZoneClick:true,//点击区域是否弹出文件选择器
		textEncoding:'UTF-8',
		browseClass:"btn btn-primary", //按钮样式 
		showRemove :true, //显示移除按钮
		maxFileCount:5, //表示允许同时上传的最大文件个数
		
		
		removeFromPreviewOnError:true,
		
    });
    
    $(document).ready(function(){
    	//异步上传返回结果处理
    	
		$("#uploadfile").on("fileuploaded", function (event, data, previewId, index) {

			iziToast.show({
			    title: "系统提示",
			    message: "文件上传成功",
			    color:'green',
			    layout:1
			});
			

		});        
		//上传前
		$('#uploadfile').on('filepreupload', function(event, data, previewId, index) {
			$("#uploadfile").fileinput({
				uploadExtraData:{"id": 1, "fileName":'123.mp3'},//额外数据
			});
    		
		});
		
	

    });
    
	</script>
</html>